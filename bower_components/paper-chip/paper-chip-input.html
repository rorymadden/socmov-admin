<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-icons/iron-icons.html"><link rel="import" href="../paper-input/paper-input.html"><link rel="import" href="paper-chip.html"></head><body><dom-module id="paper-chip-input"><template><style></style><paper-input value="{{_value}}" label="[[label]]" on-keydown="_keydown" items="[[items]]" readonly="[[readonly]]"><slot id="slot" name="input" slot="prefix"></slot><slot id="slot2" name="input2" slot="prefix"><dom-repeat items="[[items]]"><template>[[item.name]]<paper-chip id="paper-chip-[[item]]-[[index]]" label="[[item]]" closable$="[[closable]]" on-chip-removed="_removeChip"></paper-chip></template></dom-repeat></slot></paper-input></template><script>class PaperChipInput extends Polymer.Element{static get is(){return'paper-chip-input'}static get properties(){return{items:{type:Array,value:function(){return[]},observer:'_itemsUpdated'},closable:{type:Boolean,value:!1},label:{type:String,value:''},_value:{type:String}}}_itemsUpdated(){this.dispatchEvent(new CustomEvent('items_updated',{detail:{items:this.items}}))}_keydown(a){this.items||(this.items=[]);const b='8';if(a.keyCode==b&&0!=this.items.length&&(''==this._value||this._value==void 0))this._removeLastItem();else if(a.keyCode==b&&0<this.$.slot.assignedNodes().length&&(''==this._value||this._value==void 0)){this.$.slot.assignedNodes({flatten:!0});let f=0;for(var e=0;e<this.childNodes.length;e++)'PAPER-CHIP'==this.childNodes[e].tagName&&(f=e);this._throwChipRemovedEvent(this.childNodes[f].label),this.removeChild(this.childNodes[f])}a.keyCode=='13'&&''!=this._value&&this._value!=void 0&&(this._saveTag(this._value),this._value='')}_saveTag(a){-1==this.items.indexOf(a)&&this.push('items',a)}_removeChip(a){var b=this.items.indexOf(a.detail.chipLabel);-1!=b&&this.splice('items',b,1)}_removeLastItem(){0!=this.items.length&&(this._throwChipRemovedEvent(this.items[this.items.length-1]),this.splice('items',-1,1))}_getLastPaperChipPosition(a){let b=0;for(var c=0;c<a.length;c++)'PAPER-CHIP'==a[c].tagName&&(b=c);return b}_throwChipRemovedEvent(a){this.dispatchEvent(new CustomEvent('chip-removed',{detail:{chipLabel:a},composed:!0,bubbles:!0}))}}window.customElements.define(PaperChipInput.is,PaperChipInput);</script></dom-module></body></html>