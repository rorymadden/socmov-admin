try{webpackJsonpFirebase([0],[function(j,q){"use strict";function F(V){return"object"===(void 0===V?"undefined":Q(V))}function M(){return"undefined"!=typeof Blob}Object.defineProperty(q,"__esModule",{value:!0});var Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V};q.isDef=function(V){return null!=V},q.isJustDef=function(V){return void 0!==V},q.isFunction=function(V){return"function"==typeof V},q.isObject=F,q.isNonNullObject=function(V){return F(V)&&null!==V},q.isNonArrayObject=function(V){return F(V)&&!Array.isArray(V)},q.isString=function(V){return"string"==typeof V||V instanceof String},q.isNumber=function(V){return"number"==typeof V||V instanceof Number},q.isNativeBlob=function(V){return M()&&V instanceof Blob},q.isNativeBlobDefined=M},function(j,q,x){"use strict";function z(ma,na){if(!(ma instanceof na))throw new TypeError("Cannot call a class as a function")}function B(ma){return"storage/"+ma}Object.defineProperty(q,"__esModule",{value:!0}),q.Code=q.errors=q.FirebaseStorageError=void 0;var ia=function(){function ma(na,oa){for(var qa,pa=0;pa<oa.length;pa++)qa=oa[pa],qa.enumerable=qa.enumerable||!1,qa.configurable=!0,"value"in qa&&(qa.writable=!0),Object.defineProperty(na,qa.key,qa)}return function(na,oa,pa){return oa&&ma(na.prototype,oa),pa&&ma(na,pa),na}}();q.prependCode=B,q.unknown=function(){return new ka(la.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")},q.objectNotFound=function(ma){return new ka(la.OBJECT_NOT_FOUND,"Object '"+ma+"' does not exist.")},q.bucketNotFound=function(ma){return new ka(la.BUCKET_NOT_FOUND,"Bucket '"+ma+"' does not exist.")},q.projectNotFound=function(ma){return new ka(la.PROJECT_NOT_FOUND,"Project '"+ma+"' does not exist.")},q.quotaExceeded=function(ma){return new ka(la.QUOTA_EXCEEDED,"Quota for bucket '"+ma+"' exceeded, please view quota on https://firebase.google.com/pricing/.")},q.unauthenticated=function(){return new ka(la.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")},q.unauthorized=function(ma){return new ka(la.UNAUTHORIZED,"User does not have permission to access '"+ma+"'.")},q.retryLimitExceeded=function(){return new ka(la.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")},q.invalidChecksum=function(ma,na,oa){return new ka(la.INVALID_CHECKSUM,"Uploaded/downloaded object '"+ma+"' has checksum '"+na+"' which does not match '"+oa+"'. Please retry the upload/download.")},q.canceled=function(){return new ka(la.CANCELED,"User canceled the upload/download.")},q.invalidEventName=function(ma){return new ka(la.INVALID_EVENT_NAME,"Invalid event name '"+ma+"'.")},q.invalidUrl=function(ma){return new ka(la.INVALID_URL,"Invalid URL '"+ma+"'.")},q.invalidDefaultBucket=function(ma){return new ka(la.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+ma+"'.")},q.noDefaultBucket=function(){return new ka(la.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ja.configOption+"' property when initializing the app?")},q.cannotSliceBlob=function(){return new ka(la.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")},q.serverFileWrongSize=function(){return new ka(la.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")},q.noDownloadURL=function(){return new ka(la.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")},q.invalidArgument=function(ma,na,oa){return new ka(la.INVALID_ARGUMENT,"Invalid argument in `"+na+"` at index "+ma+": "+oa)},q.invalidArgumentCount=function(ma,na,oa,pa){var qa,ra;return ma===na?(qa=ma,ra=1===ma?"argument":"arguments"):(qa="between "+ma+" and "+na,ra="arguments"),new ka(la.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+oa+"`: Expected "+qa+" "+ra+", received "+pa+".")},q.appDeleted=function(){return new ka(la.APP_DELETED,"The Firebase app was deleted.")},q.invalidRootOperation=function(ma){return new ka(la.INVALID_ROOT_OPERATION,"The operation '"+ma+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},q.invalidFormat=function(ma,na){return new ka(la.INVALID_FORMAT,"String does not match format '"+ma+"': "+na)},q.internalError=function(ma){throw new ka(la.INTERNAL_ERROR,"Internal error: "+ma)};var ja=x(6),ka=q.FirebaseStorageError=function(){function ma(na,oa){z(this,ma),this.code_=B(na),this.message_="Firebase Storage: "+oa,this.serverResponse_=null,this.name_="FirebaseError"}return ia(ma,[{key:"codeProp",value:function(){return this.code}},{key:"codeEquals",value:function(na){return B(na)===this.codeProp()}},{key:"serverResponseProp",value:function(){return this.serverResponse_}},{key:"setServerResponseProp",value:function(na){this.serverResponse_=na}},{key:"name",get:function(){return this.name_}},{key:"code",get:function(){return this.code_}},{key:"message",get:function(){return this.message_}},{key:"serverResponse",get:function(){return this.serverResponse_}}]),ma}(),la=(q.errors={},q.Code={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"})},function(j,q,x){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.make=function(G){return new F.local.Promise(G)},q.resolve=function(G){return F.local.Promise.resolve(G)},q.reject=function(G){return F.local.Promise.reject(G)};var F=x(10)},function(j,q){"use strict";function z(F,G){return Object.prototype.hasOwnProperty.call(F,G)}function B(F,G){for(var H in F)z(F,H)&&G(H,F[H])}Object.defineProperty(q,"__esModule",{value:!0}),q.contains=z,q.forEach=B,q.clone=function(F){if(null==F)return{};var G={};return B(F,function(H,J){G[H]=J}),G}},,,function(j,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.setDomainBase=function(B){B=B},q.domainBase="https://firebasestorage.googleapis.com",q.downloadBase="https://firebasestorage.googleapis.com",q.apiBaseUrl="/v0",q.apiUploadBaseUrl="/v0",q.configOption="storageBucket",q.shortMaxOperationRetryTime=6e4,q.defaultMaxOperationRetryTime=12e4,q.defaultMaxUploadRetryTime=6e4,q.minSafeInteger=-9007199254740991},function(j,q,x){"use strict";function z(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.Location=void 0;var B=function(){function G(H,J){for(var L,K=0;K<J.length;K++)L=J[K],L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(H,L.key,L)}return function(H,J,K){return J&&G(H.prototype,J),K&&G(H,K),H}}(),D=x(1),F=function(G){if(G&&G.__esModule)return G;var H={};if(null!=G)for(var J in G)Object.prototype.hasOwnProperty.call(G,J)&&(H[J]=G[J]);return H.default=G,H}(D);q.Location=function(){function G(H,J){z(this,G),this.bucket=H,this.path_=J}return B(G,[{key:"fullServerUrl",value:function(){var H=encodeURIComponent;return"/b/"+H(this.bucket)+"/o/"+H(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}},{key:"path",get:function(){return this.path_}}],[{key:"makeFromBucketSpec",value:function(H){var J;try{J=G.makeFromUrl(H)}catch(K){return new G(H,"")}if(""===J.path)return J;throw F.invalidDefaultBucket(H)}},{key:"makeFromUrl",value:function(H){for(var J=null,K=/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,L=/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,M=[{regex:K,indices:{bucket:1,path:3},postModify:function(Z){"/"===Z.path.charAt(Z.path.length-1)&&(Z.path_=Z.path_.slice(0,-1))}},{regex:L,indices:{bucket:1,path:3},postModify:function(Z){Z.path_=decodeURIComponent(Z.path)}}],Q=0;Q<M.length;Q++){var V=M[Q],W=V.regex.exec(H);if(W){var X=W[V.indices.bucket],Y=W[V.indices.path];Y||(Y=""),J=new G(X,Y),V.postModify(J);break}}if(null==J)throw F.invalidUrl(H);return J}}]),G}()},function(j,q,x){"use strict";function z(Y,Z){if(!(Y instanceof Z))throw new TypeError("Cannot call a class as a function")}function F(Y){for(var aa,Z=[],$=0;$<Y.length;$++)if(aa=Y.charCodeAt($),127>=aa)Z.push(aa);else if(2047>=aa)Z.push(192|aa>>6,128|63&aa);else if(55296==(64512&aa)){var ba=$<Y.length-1&&56320==(64512&Y.charCodeAt($+1));if(ba){var ca=aa,da=Y.charCodeAt(++$);aa=65536|(1023&ca)<<10|1023&da,Z.push(240|aa>>18,128|63&aa>>12,128|63&aa>>6,128|63&aa)}else Z.push(239,191,189)}else 56320==(64512&aa)?Z.push(239,191,189):Z.push(224|aa>>12,128|63&aa>>6,128|63&aa);return new Uint8Array(Z)}function G(Y){var Z;try{Z=decodeURIComponent(Y)}catch($){throw Q.invalidFormat(V.DATA_URL,"Malformed data URL.")}return F(Z)}function H(Y,Z){switch(Y){case V.BASE64:var $=-1!==Z.indexOf("-"),aa=-1!==Z.indexOf("_");if($||aa){var ba=$?"-":"_";throw Q.invalidFormat(Y,"Invalid character '"+ba+"' found: is it base64url encoded?")}break;case V.BASE64URL:var ca=-1!==Z.indexOf("+"),da=-1!==Z.indexOf("/");if(ca||da){var ea=ca?"+":"/";throw Q.invalidFormat(Y,"Invalid character '"+ea+"' found: is it base64 encoded?")}Z=Z.replace(/-/g,"+").replace(/_/g,"/");}var fa;try{fa=atob(Z)}catch(ia){throw Q.invalidFormat(Y,"Invalid character found")}for(var ga=new Uint8Array(fa.length),ha=0;ha<fa.length;ha++)ga[ha]=fa.charCodeAt(ha);return ga}function J(Y){var Z=new X(Y);return Z.base64?H(V.BASE64,Z.rest):G(Z.rest)}function K(Y){return new X(Y).contentType}function L(Y,Z){return!!(Y.length>=Z.length)&&Y.substring(Y.length-Z.length)===Z}Object.defineProperty(q,"__esModule",{value:!0}),q.StringData=q.StringFormat=void 0,q.formatValidator=function(Y){switch(Y){case V.RAW:case V.BASE64:case V.BASE64URL:case V.DATA_URL:return;default:throw"Expected one of the event types: ["+V.RAW+", "+V.BASE64+", "+V.BASE64URL+", "+V.DATA_URL+"].";}},q.dataFromString=function(Y,Z){switch(Y){case V.RAW:return new W(F(Z));case V.BASE64:case V.BASE64URL:return new W(H(Y,Z));case V.DATA_URL:return new W(J(Z),K(Z));}throw Q.unknown()},q.utf8Bytes_=F,q.percentEncodedBytes_=G,q.base64Bytes_=H,q.dataURLBytes_=J,q.dataURLContentType_=K;var M=x(1),Q=function(Y){if(Y&&Y.__esModule)return Y;var Z={};if(null!=Y)for(var $ in Y)Object.prototype.hasOwnProperty.call(Y,$)&&(Z[$]=Y[$]);return Z.default=Y,Z}(M),V=q.StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},W=q.StringData=function Y(Z,$){z(this,Y),this.data=Z,this.contentType=$||null},X=function Y(Z){z(this,Y),this.base64=!1,this.contentType=null;var $=Z.match(/^data:([^,]+)?,/);if(null===$)throw Q.invalidFormat(V.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var aa=$[1]||null;null!=aa&&(this.base64=L(aa,";base64"),this.contentType=this.base64?aa.substring(0,aa.length-";base64".length):aa),this.rest=Z.substring(Z.indexOf(",")+1)}},,,function(j,q,x){"use strict";function z(aa){if(aa&&aa.__esModule)return aa;var ba={};if(null!=aa)for(var ca in aa)Object.prototype.hasOwnProperty.call(aa,ca)&&(ba[ca]=aa[ca]);return ba.default=aa,ba}function B(aa,ba){if(!(aa instanceof ba))throw new TypeError("Cannot call a class as a function")}function F(aa,ba){return function(ca){aa(ca),ba(ca)}}Object.defineProperty(q,"__esModule",{value:!0}),q.ArgSpec=void 0,q.validate=function(aa,ba,ca){for(var da=ba.length,ea=ba.length,fa=0;fa<ba.length;fa++)if(ba[fa].optional){da=fa;break}if(!(da<=ca.length&&ca.length<=ea))throw V.invalidArgumentCount(da,ea,aa,ca.length);for(var ga=0;ga<ca.length;ga++)try{ba[ga].validator(ca[ga])}catch(ha){throw ha instanceof Error?V.invalidArgument(ga,aa,ha.message):V.invalidArgument(ga,aa,ha)}},q.and_=F,q.stringSpec=function(aa,ba){function ca(ea){if(!Z.isString(ea))throw"Expected string."}var da;return da=aa?F(ca,aa):ca,new $(da,ba)},q.uploadDataSpec=function(){return new $(function(aa){if(!(aa instanceof Uint8Array||aa instanceof ArrayBuffer||Z.isNativeBlobDefined()&&aa instanceof Blob))throw"Expected Blob or File."})},q.metadataSpec=function(aa){return new $(X.metadataValidator,aa)},q.nonNegativeNumberSpec=function(){return new $(function(aa){if(!(Z.isNumber(aa)&&0<=aa))throw"Expected a number 0 or greater."})},q.looseObjectSpec=function(aa,ba){return new $(function(ca){if(!(null===ca||Z.isDef(ca)&&ca instanceof Object))throw"Expected an Object.";void 0!==aa&&null!==aa&&aa(ca)},ba)},q.nullFunctionSpec=function(aa){return new $(function(ba){if(null!==ba&&!Z.isFunction(ba))throw"Expected a Function."},aa)};var Q=x(1),V=z(Q),W=x(13),X=z(W),Y=x(0),Z=z(Y),$=q.ArgSpec=function aa(ba,ca){B(this,aa);var da=this;this.validator=function(ea){da.optional&&!Z.isJustDef(ea)||ba(ea)},this.optional=!!ca}},function(j,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.contains=function(F,G){return-1!==F.indexOf(G)},q.clone=function(F){return Array.prototype.slice.call(F)},q.remove=function(F,G){var H=F.indexOf(G);-1!==H&&F.splice(H,1)}},function(j,q,x){"use strict";function z(ea){if(ea&&ea.__esModule)return ea;var fa={};if(null!=ea)for(var ga in ea)Object.prototype.hasOwnProperty.call(ea,ga)&&(fa[ga]=ea[ga]);return fa.default=ea,fa}function B(ea,fa){if(!(ea instanceof fa))throw new TypeError("Cannot call a class as a function")}function D(ea,fa){return fa}function F(ea){return!$.isString(ea)||2>ea.length?ea:(ea=ea,Y.lastComponent(ea))}function H(ea,fa){Object.defineProperty(ea,"ref",{get:function(){var ga=ea.bucket,ha=ea.fullPath,ia=new W.Location(ga,ha);return fa.makeStorageReference(ia)}})}function J(ea,fa,ga){for(var ka,ha={type:"file"},ia=ga.length,ja=0;ja<ia;ja++)ka=ga[ja],ha[ka.local]=ka.xform(ha,fa[ka.server]);return H(ha,ea),ha}Object.defineProperty(q,"__esModule",{value:!0}),q.Mapping=void 0,q.noXform_=D,q.xformPath=F,q.getMappings=function(){if(da)return da;var ea=[new ca("bucket"),new ca("generation"),new ca("metageneration"),new ca("name","fullPath",!0)],fa=new ca("name");fa.xform=function(ha,ia){return F(ia)},ea.push(fa);var ga=new ca("size");return ga.xform=function(ha,ia){return $.isDef(ia)?+ia:ia},ea.push(ga),ea.push(new ca("timeCreated")),ea.push(new ca("updated")),ea.push(new ca("md5Hash",null,!0)),ea.push(new ca("cacheControl",null,!0)),ea.push(new ca("contentDisposition",null,!0)),ea.push(new ca("contentEncoding",null,!0)),ea.push(new ca("contentLanguage",null,!0)),ea.push(new ca("contentType",null,!0)),ea.push(new ca("metadata","customMetadata",!0)),ea.push(new ca("downloadTokens","downloadURLs",!1,function(ha,ia){if(!($.isString(ia)&&0<ia.length))return[];var ja=encodeURIComponent;return ia.split(",").map(function(ka){var la=ha.bucket,ma=ha.fullPath,na="/b/"+ja(la)+"/o/"+ja(ma);return ba.makeDownloadUrl(na)+ba.makeQueryString({alt:"media",token:ka})})})),da=ea},q.addRef=H,q.fromResource=J,q.fromResourceString=function(ea,fa,ga){var ha=V.jsonObjectOrNull(fa);return null===ha?null:J(ea,ha,ga)},q.toResourceString=function(ea,fa){for(var ja,ga={},ha=fa.length,ia=0;ia<ha;ia++)ja=fa[ia],ja.writable&&(ga[ja.server]=ea[ja.local]);return JSON.stringify(ga)},q.metadataValidator=function(ea){if(!ea||!$.isObject(ea))throw"Expected Metadata object.";for(var fa in ea){var ga=ea[fa];if("customMetadata"===fa){if(!$.isObject(ga))throw"Expected object for 'customMetadata' mapping.";}else if($.isNonNullObject(ga))throw"Mapping for '"+fa+"' cannot be an object."}};var Q=x(43),V=z(Q),W=x(7),X=x(23),Y=z(X),Z=x(0),$=z(Z),aa=x(14),ba=z(aa),ca=q.Mapping=function ea(fa,ga,ha,ia){B(this,ea),this.server=fa,this.local=ga||fa,this.writable=!!ha,this.xform=ia||D},da=null},function(j,q,x){"use strict";function z(M){if(M&&M.__esModule)return M;var Q={};if(null!=M)for(var V in M)Object.prototype.hasOwnProperty.call(M,V)&&(Q[V]=M[V]);return Q.default=M,Q}Object.defineProperty(q,"__esModule",{value:!0}),q.makeNormalUrl=function(M){return J.domainBase+J.apiBaseUrl+M},q.makeDownloadUrl=function(M){return J.downloadBase+J.apiBaseUrl+M},q.makeUploadUrl=function(M){return J.domainBase+J.apiUploadBaseUrl+M},q.makeQueryString=function(M){var Q=encodeURIComponent,V="?";return L.forEach(M,function(W,X){var Y=Q(W)+"="+Q(X);V=V+Y+"&"}),V=V.slice(0,-1)};var H=x(6),J=z(H),K=x(3),L=z(K)},function(j,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.taskStateFromInternalTaskState=function(F){switch(F){case B.RUNNING:case B.PAUSING:case B.CANCELING:return D.RUNNING;case B.PAUSED:return D.PAUSED;case B.SUCCESS:return D.SUCCESS;case B.CANCELED:return D.CANCELED;case B.ERROR:default:return D.ERROR;}};var B=(q.TaskEvent={STATE_CHANGED:"state_changed"},q.InternalTaskState={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"}),D=q.TaskState={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"}},function(j,q,x){"use strict";function z(fa){if(fa&&fa.__esModule)return fa;var ga={};if(null!=fa)for(var ha in fa)Object.prototype.hasOwnProperty.call(fa,ha)&&(ga[ha]=fa[ha]);return ga.default=fa,ga}function B(fa,ga){if(!(fa instanceof ga))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.Reference=void 0;var D=function(){function fa(ga,ha){for(var ja,ia=0;ia<ha.length;ia++)ja=ha[ia],ja.enumerable=ja.enumerable||!1,ja.configurable=!0,"value"in ja&&(ja.writable=!0),Object.defineProperty(ga,ja.key,ja)}return function(ga,ha,ia){return ha&&fa(ga.prototype,ha),ia&&fa(ga,ia),ga}}(),F=x(11),G=z(F),H=x(22),J=x(1),K=z(J),L=x(7),M=x(13),Q=z(M),V=x(3),W=z(V),X=x(23),Y=z(X),Z=x(24),$=z(Z),aa=x(8),ba=z(aa),ca=x(0),da=z(ca),ea=x(49);q.Reference=function(){function fa(ga,ha){B(this,fa),this.authWrapper=ga,this.location=ha instanceof L.Location?ha:L.Location.makeFromUrl(ha)}return D(fa,[{key:"toString",value:function(){return G.validate("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path}},{key:"newRef",value:function(ga,ha){return new fa(ga,ha)}},{key:"mappings",value:function(){return Q.getMappings()}},{key:"child",value:function(ga){G.validate("child",[G.stringSpec()],arguments);var ha=Y.child(this.location.path,ga),ia=new L.Location(this.location.bucket,ha);return this.newRef(this.authWrapper,ia)}},{key:"put",value:function(ga){var ha=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return G.validate("put",[G.uploadDataSpec(),G.metadataSpec(!0)],arguments),this.throwIfRoot_("put"),new ea.UploadTask(this,this.authWrapper,this.location,this.mappings(),new H.FbsBlob(ga),ha)}},{key:"putString",value:function(ga){var ha=1<arguments.length&&void 0!==arguments[1]?arguments[1]:aa.StringFormat.RAW,ia=arguments[2];G.validate("putString",[G.stringSpec(),G.stringSpec(ba.formatValidator,!0),G.metadataSpec(!0)],arguments),this.throwIfRoot_("putString");var ja=ba.dataFromString(ha,ga),ka=W.clone(ia);return!da.isDef(ka.contentType)&&da.isDef(ja.contentType)&&(ka.contentType=ja.contentType),new ea.UploadTask(this,this.authWrapper,this.location,this.mappings(),new H.FbsBlob(ja.data,!0),ka)}},{key:"delete",value:function(){G.validate("delete",[],arguments),this.throwIfRoot_("delete");var ga=this;return this.authWrapper.getAuthToken().then(function(ha){var ia=$.deleteObject(ga.authWrapper,ga.location);return ga.authWrapper.makeRequest(ia,ha).getPromise()})}},{key:"getMetadata",value:function(){G.validate("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var ga=this;return this.authWrapper.getAuthToken().then(function(ha){var ia=$.getMetadata(ga.authWrapper,ga.location,ga.mappings());return ga.authWrapper.makeRequest(ia,ha).getPromise()})}},{key:"updateMetadata",value:function(ga){G.validate("updateMetadata",[G.metadataSpec()],arguments),this.throwIfRoot_("updateMetadata");var ha=this;return this.authWrapper.getAuthToken().then(function(ia){var ja=$.updateMetadata(ha.authWrapper,ha.location,ga,ha.mappings());return ha.authWrapper.makeRequest(ja,ia).getPromise()})}},{key:"getDownloadURL",value:function(){return G.validate("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(ga){var ha=ga.downloadURLs[0];if(da.isDef(ha))return ha;throw K.noDownloadURL()})}},{key:"throwIfRoot_",value:function(ga){if(""===this.location.path)throw K.invalidRootOperation(ga)}},{key:"parent",get:function(){var ga=Y.parent(this.location.path);if(null===ga)return null;var ha=new L.Location(this.location.bucket,ga);return this.newRef(this.authWrapper,ha)}},{key:"root",get:function(){var ga=new L.Location(this.location.bucket,"");return this.newRef(this.authWrapper,ga)}},{key:"bucket",get:function(){return this.location.bucket}},{key:"fullPath",get:function(){return this.location.path}},{key:"name",get:function(){return Y.lastComponent(this.location.path)}},{key:"storage",get:function(){return this.authWrapper.service()}}]),fa}()},,,,,,function(j,q,x){"use strict";function z(M){if(M&&M.__esModule)return M;var Q={};if(null!=M)for(var V in M)Object.prototype.hasOwnProperty.call(M,V)&&(Q[V]=M[V]);return Q.default=M,Q}function B(M,Q){if(!(M instanceof Q))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.FbsBlob=void 0;var D=function(){function M(Q,V){for(var X,W=0;W<V.length;W++)X=V[W],X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Q,X.key,X)}return function(Q,V,W){return V&&M(Q.prototype,V),W&&M(Q,W),Q}}(),F=x(42),G=z(F),H=x(8),J=z(H),K=x(0),L=z(K);q.FbsBlob=function(){function M(Q,V){B(this,M);var W=0,X="";L.isNativeBlob(Q)?(this.data_=Q,W=Q.size,X=Q.type):Q instanceof ArrayBuffer?(V?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),W=this.data_.length):Q instanceof Uint8Array&&(V?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),W=Q.length),this.size_=W,this.type_=X}return D(M,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(Q,V){if(L.isNativeBlob(this.data_)){var W=this.data_,X=G.sliceBlob(W,Q,V);return null===X?null:new M(X)}return new M(new Uint8Array(this.data_.buffer,Q,V-Q),!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var Q=arguments.length,V=Array(Q),W=0;W<Q;W++)V[W]=arguments[W];if(L.isNativeBlobDefined()){var X=V.map(function(ba){return ba instanceof M?ba.data_:ba});return new M(G.getBlob.apply(null,X))}var Y=V.map(function(ba){return L.isString(ba)?J.dataFromString(H.StringFormat.RAW,ba).data:ba.data_}),Z=0;Y.forEach(function(ba){Z+=ba.byteLength});var $=new Uint8Array(Z),aa=0;return Y.forEach(function(ba){for(var ca=0;ca<ba.length;ca++)$[aa++]=ba[ca]}),new M($,!0)}}]),M}()},function(j,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.parent=function(F){if(0==F.length)return null;var G=F.lastIndexOf("/");return-1===G?"":F.slice(0,G)},q.child=function(F,G){var H=G.split("/").filter(function(J){return 0<J.length}).join("/");return 0===F.length?H:F+"/"+H},q.lastComponent=function(F){var G=F.lastIndexOf("/",F.length-2);return-1===G?F:F.slice(G+1)}},function(j,q,x){"use strict";function z(oa){if(oa&&oa.__esModule)return oa;var pa={};if(null!=oa)for(var qa in oa)Object.prototype.hasOwnProperty.call(oa,qa)&&(pa[qa]=oa[qa]);return pa.default=oa,pa}function B(oa,pa){if(!(oa instanceof pa))throw new TypeError("Cannot call a class as a function")}function D(oa){if(!oa)throw da.unknown()}function F(oa,pa){return function(qa,ra){var sa=fa.fromResourceString(oa,ra,pa);return D(null!==sa),sa}}function G(oa){return function(pa,qa){var ra;return ra=401===pa.getStatus()?da.unauthenticated():402===pa.getStatus()?da.quotaExceeded(oa.bucket):403===pa.getStatus()?da.unauthorized(oa.path):qa,ra.setServerResponseProp(qa.serverResponseProp()),ra}}function H(oa){var pa=G(oa);return function(qa,ra){var sa=pa(qa,ra);return 404===qa.getStatus()&&(sa=da.objectNotFound(oa.path)),sa.setServerResponseProp(ra.serverResponseProp()),sa}}function M(oa,pa){return oa&&oa.contentType||pa&&pa.type()||"application/octet-stream"}function Q(oa,pa,qa){var ra=ha.clone(qa);return ra.fullPath=oa.path,ra.size=pa.size(),ra.contentType||(ra.contentType=M(null,pa)),ra}function W(oa,pa){var qa;try{qa=oa.getResponseHeader("X-Goog-Upload-Status")}catch(ra){D(!1)}return D(aa.contains(pa||["active"],qa)),qa}Object.defineProperty(q,"__esModule",{value:!0}),q.resumableUploadChunkSize=q.ResumableUploadStatus=void 0,q.handlerCheck=D,q.metadataHandler=F,q.sharedErrorHandler=G,q.objectErrorHandler=H,q.getMetadata=function(oa,pa,qa){var ra=pa.fullServerUrl(),sa=ma.makeNormalUrl(ra),ta=oa.maxOperationRetryTime(),ua=new ia.RequestInfo(sa,"GET",F(oa,qa),ta);return ua.errorHandler=H(pa),ua},q.updateMetadata=function(oa,pa,qa,ra){var sa=pa.fullServerUrl(),ta=ma.makeNormalUrl(sa),ua=fa.toResourceString(qa,ra),va=oa.maxOperationRetryTime(),wa=new ia.RequestInfo(ta,"PATCH",F(oa,ra),va);return wa.headers={"Content-Type":"application/json; charset=utf-8"},wa.body=ua,wa.errorHandler=H(pa),wa},q.deleteObject=function(oa,pa){var qa=pa.fullServerUrl(),ra=ma.makeNormalUrl(qa),sa=oa.maxOperationRetryTime(),ta=new ia.RequestInfo(ra,"DELETE",function(){},sa);return ta.successCodes=[200,204],ta.errorHandler=H(pa),ta},q.determineContentType_=M,q.metadataForUpload_=Q,q.multipartUpload=function(oa,pa,qa,ra,sa){var ta=pa.bucketOnlyServerUrl(),ua={"X-Goog-Upload-Protocol":"multipart"},va=function(){for(var Ea="",Fa=0;2>Fa;Fa++)Ea+=Math.random().toString().slice(2);return Ea}();ua["Content-Type"]="multipart/related; boundary="+va;var wa=Q(pa,ra,sa),xa=fa.toResourceString(wa,qa),ya="--"+va+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xa+"\r\n--"+va+"\r\nContent-Type: "+wa.contentType+"\r\n\r\n",za=ba.FbsBlob.getBlob(ya,ra,"\r\n--"+va+"--");if(null===za)throw da.cannotSliceBlob();var Aa={name:wa.fullPath},Ba=ma.makeUploadUrl(ta),Ca=oa.maxUploadRetryTime(),Da=new ia.RequestInfo(Ba,"POST",F(oa,qa),Ca);return Da.urlParams=Aa,Da.headers=ua,Da.body=za.uploadData(),Da.errorHandler=G(pa),Da},q.checkResumeHeader_=W,q.createResumableUpload=function(oa,pa,qa,ra,sa){var ta=pa.bucketOnlyServerUrl(),ua=Q(pa,ra,sa),va={name:ua.fullPath},wa=ma.makeUploadUrl(ta),xa={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":ra.size(),"X-Goog-Upload-Header-Content-Type":ua.contentType,"Content-Type":"application/json; charset=utf-8"},ya=fa.toResourceString(ua,qa),za=oa.maxUploadRetryTime(),Aa=new ia.RequestInfo(wa,"POST",function(Ba){W(Ba);var Ca;try{Ca=Ba.getResponseHeader("X-Goog-Upload-URL")}catch(Da){D(!1)}return D(ka.isString(Ca)),Ca},za);return Aa.urlParams=va,Aa.headers=xa,Aa.body=ya,Aa.errorHandler=G(pa),Aa},q.getResumableUploadStatus=function(oa,pa,qa,ra){var sa=oa.maxUploadRetryTime(),ta=new ia.RequestInfo(qa,"POST",function(ua){var va=W(ua,["active","final"]),wa;try{wa=ua.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ya){D(!1)}var xa=parseInt(wa,10);return D(!isNaN(xa)),new na(xa,ra.size(),"final"===va)},sa);return ta.headers={"X-Goog-Upload-Command":"query"},ta.errorHandler=G(pa),ta},q.continueResumableUpload=function(oa,pa,qa,ra,sa,ta,ua,va){var wa=new na(0,0);if(ua?(wa.current=ua.current,wa.total=ua.total):(wa.current=0,wa.total=ra.size()),ra.size()!==wa.total)throw da.serverFileWrongSize();var xa=wa.total-wa.current,ya=xa;0<sa&&(ya=Math.min(ya,sa));var za=wa.current,Aa=za+ya,Ba=ya===xa?"upload, finalize":"upload",Ca={"X-Goog-Upload-Command":Ba,"X-Goog-Upload-Offset":wa.current},Da=ra.slice(za,Aa);if(null===Da)throw da.cannotSliceBlob();var Ea=pa.maxUploadRetryTime(),Fa=new ia.RequestInfo(qa,"POST",function(Ga,Ha){var Ia=W(Ga,["active","final"]),Ja=wa.current+ya,Ka=ra.size(),La;return La="final"===Ia?F(pa,ta)(Ga,Ha):null,new na(Ja,Ka,"final"===Ia,La)},Ea);return Fa.headers=Ca,Fa.body=Da.uploadData(),Fa.progressCallback=va||null,Fa.errorHandler=G(oa),Fa};var $=x(12),aa=z($),ba=x(22),ca=x(1),da=z(ca),ea=x(13),fa=z(ea),ga=x(3),ha=z(ga),ia=x(46),ja=x(0),ka=z(ja),la=x(14),ma=z(la),na=q.ResumableUploadStatus=function oa(pa,qa,ra,sa){B(this,oa),this.current=pa,this.total=qa,this.finalized=!!ra,this.metadata=sa||null};q.resumableUploadChunkSize=262144},function(j,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0});var z=q.ErrorCode=void 0;!function(B){B[B.NO_ERROR=0]="NO_ERROR",B[B.NETWORK_ERROR=1]="NETWORK_ERROR",B[B.ABORT=2]="ABORT"}(z||(q.ErrorCode=z={}))},,,,,function(j,q,x){"use strict";function z(F,G){if(!(F instanceof G))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.XhrIoPool=void 0;var B=function(){function F(G,H){for(var K,J=0;J<H.length;J++)K=H[J],K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(G,K.key,K)}return function(G,H,J){return H&&F(G.prototype,H),J&&F(G,J),G}}(),D=x(48);q.XhrIoPool=function(){function F(){z(this,F)}return B(F,[{key:"createXhrIo",value:function(){return new D.NetworkXhrIo}}]),F}()},function(j,q,x){"use strict";function z(X){if(X&&X.__esModule)return X;var Y={};if(null!=X)for(var Z in X)Object.prototype.hasOwnProperty.call(X,Z)&&(Y[Z]=X[Z]);return Y.default=X,Y}function B(X,Y){if(!(X instanceof Y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.ServiceInternals=q.Service=void 0;var D=function(){function X(Y,Z){for(var aa,$=0;$<Z.length;$++)aa=Z[$],aa.enumerable=aa.enumerable||!1,aa.configurable=!0,"value"in aa&&(aa.writable=!0),Object.defineProperty(Y,aa.key,aa)}return function(Y,Z,$){return Z&&X(Y.prototype,Z),$&&X(Y,$),Y}}(),F=x(11),G=z(F),H=x(39),J=x(7),K=x(2),L=z(K),M=x(45),Q=z(M),V=x(16),W=(q.Service=function(){function X(Y,Z,$){if(B(this,X),this.bucket_=null,this.authWrapper_=new H.AuthWrapper(Y,function(ba,ca){return new V.Reference(ba,ca)},Q.makeRequest,this,Z),this.app_=Y,null!=$)this.bucket_=J.Location.makeFromBucketSpec($);else{var aa=this.authWrapper_.bucket();null!=aa&&(this.bucket_=new J.Location(aa,""))}this.internals_=new W(this)}return D(X,[{key:"ref",value:function(Y){if(G.validate("ref",[G.stringSpec(function($){if(/^[A-Za-z]+:\/\//.test($))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var Z=new V.Reference(this.authWrapper_,this.bucket_);return null==Y?Z:Z.child(Y)}},{key:"refFromURL",value:function(Y){return G.validate("refFromURL",[G.stringSpec(function(Z){if(!/^[A-Za-z]+:\/\//.test(Z))throw"Expected full URL but got a child path, use ref instead.";try{J.Location.makeFromUrl(Z)}catch($){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new V.Reference(this.authWrapper_,Y)}},{key:"setMaxUploadRetryTime",value:function(Y){G.validate("setMaxUploadRetryTime",[G.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxUploadRetryTime(Y)}},{key:"setMaxOperationRetryTime",value:function(Y){G.validate("setMaxOperationRetryTime",[G.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxOperationRetryTime(Y)}},{key:"maxUploadRetryTime",get:function(){return this.authWrapper_.maxUploadRetryTime()}},{key:"maxOperationRetryTime",get:function(){return this.authWrapper_.maxOperationRetryTime()}},{key:"app",get:function(){return this.app_}},{key:"INTERNAL",get:function(){return this.internals_}}]),X}(),q.ServiceInternals=function(){function X(Y){B(this,X),this.service_=Y}return D(X,[{key:"delete",value:function(){return this.service_.authWrapper_.deleteApp(),L.resolve(void 0)}}]),X}())},,,,,,function(j,q,x){"use strict";function z(M,Q,V){return new J.Service(M,new G.XhrIoPool(),V)}function B(M){M.INTERNAL.registerService(L,z,{TaskState:F.TaskState,TaskEvent:F.TaskEvent,StringFormat:D.StringFormat,Storage:J.Service,Reference:H.Reference},void 0,!0)}Object.defineProperty(q,"__esModule",{value:!0}),q.registerStorage=B;var D=x(8),F=x(15),G=x(30),H=x(16),J=x(31),K=x(4),L="storage";B(function(M){return M&&M.__esModule?M:{default:M}}(K).default)},function(j,q,x){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.async=function(F){return function(){for(var G=arguments.length,H=Array(G),J=0;J<G;J++)H[J]=arguments[J];D.resolve(!0).then(function(){F.apply(null,H)})}};var B=x(2),D=function(F){if(F&&F.__esModule)return F;var G={};if(null!=F)for(var H in F)Object.prototype.hasOwnProperty.call(F,H)&&(G[H]=F[H]);return G.default=F,G}(B)},function(j,q,x){"use strict";function z(Y){if(Y&&Y.__esModule)return Y;var Z={};if(null!=Y)for(var $ in Y)Object.prototype.hasOwnProperty.call(Y,$)&&(Z[$]=Y[$]);return Z.default=Y,Z}function B(Y,Z){if(!(Y instanceof Z))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.AuthWrapper=void 0;var D=function(){function Y(Z,$){for(var ba,aa=0;aa<$.length;aa++)ba=$[aa],ba.enumerable=ba.enumerable||!1,ba.configurable=!0,"value"in ba&&(ba.writable=!0),Object.defineProperty(Z,ba.key,ba)}return function(Z,$,aa){return $&&Y(Z.prototype,$),aa&&Y(Z,aa),Z}}(),F=x(6),G=z(F),H=x(1),J=z(H),K=x(41),L=x(7),M=x(2),Q=z(M),V=x(47),W=x(0),X=z(W);q.AuthWrapper=function(){function Y(Z,$,aa,ba,ca){if(B(this,Y),this.bucket_=null,this.deleted_=!1,this.app_=Z,null!==this.app_){var da=this.app_.options;X.isDef(da)&&(this.bucket_=Y.extractBucket_(da))}this.storageRefMaker_=$,this.requestMaker_=aa,this.pool_=ca,this.service_=ba,this.maxOperationRetryTime_=G.defaultMaxOperationRetryTime,this.maxUploadRetryTime_=G.defaultMaxUploadRetryTime,this.requestMap_=new V.RequestMap}return D(Y,[{key:"getAuthToken",value:function(){return null!==this.app_&&X.isDef(this.app_.INTERNAL)&&X.isDef(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(Z){return null===Z?null:Z.accessToken},function(){return null}):Q.resolve(null)}},{key:"bucket",value:function(){if(this.deleted_)throw J.appDeleted();return this.bucket_}},{key:"service",value:function(){return this.service_}},{key:"makeStorageReference",value:function(Z){return this.storageRefMaker_(this,Z)}},{key:"makeRequest",value:function(Z,$){if(this.deleted_)return new K.FailRequest(J.appDeleted());var aa=this.requestMaker_(Z,$,this.pool_);return this.requestMap_.addRequest(aa),aa}},{key:"deleteApp",value:function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()}},{key:"maxUploadRetryTime",value:function(){return this.maxUploadRetryTime_}},{key:"setMaxUploadRetryTime",value:function(Z){this.maxUploadRetryTime_=Z}},{key:"maxOperationRetryTime",value:function(){return this.maxOperationRetryTime_}},{key:"setMaxOperationRetryTime",value:function(Z){this.maxOperationRetryTime_=Z}}],[{key:"extractBucket_",value:function(Z){var $=Z[G.configOption]||null;return null==$?null:L.Location.makeFromBucketSpec($).bucket}}]),Y}()},function(j,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.start=function(D,F,G){function H(){return 2===X}function J(){Y||(Y=!0,F.apply(null,arguments))}function K($){V=setTimeout(function(){V=null,D(L,H())},$)}function L($){for(var aa=arguments.length,ba=Array(1<aa?aa-1:0),ca=1;ca<aa;ca++)ba[ca-1]=arguments[ca];if(!Y){if($)return void J.apply(null,arguments);if(H()||W)return void J.apply(null,arguments);64>Q&&(Q*=2);var da;1===X?(X=2,da=0):da=1e3*(Q+Math.random()),K(da)}}function M($){Z||(Z=!0,Y||(null===V?$||(X=1):($||(X=2),clearTimeout(V),K(0))))}var Q=1,V=null,W=!1,X=0,Y=!1,Z=!1;return K(0),setTimeout(function(){W=!0,M(!0)},G),M},q.stop=function(D){D(!1)}},function(j,q,x){"use strict";function z(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.FailRequest=void 0;var B=function(){function G(H,J){for(var L,K=0;K<J.length;K++)L=J[K],L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(H,L.key,L)}return function(H,J,K){return J&&G(H.prototype,J),K&&G(H,K),H}}(),D=x(2),F=function(G){if(G&&G.__esModule)return G;var H={};if(null!=G)for(var J in G)Object.prototype.hasOwnProperty.call(G,J)&&(H[J]=G[J]);return H.default=G,H}(D);q.FailRequest=function(){function G(H){z(this,G),this.promise_=F.reject(H)}return B(G,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}}]),G}()},function(j,q,x){"use strict";function z(){return"undefined"==typeof BlobBuilder?"undefined"==typeof WebKitBlobBuilder?void 0:WebKitBlobBuilder:BlobBuilder}Object.defineProperty(q,"__esModule",{value:!0}),q.getBlob=function(){for(var H=z(),J=arguments.length,K=Array(J),L=0;L<J;L++)K[L]=arguments[L];if(void 0!==H){for(var M=new H,Q=0;Q<K.length;Q++)M.append(K[Q]);return M.getBlob()}if(G.isNativeBlobDefined())return new Blob(K);throw Error("This browser doesn't seem to support creating Blobs")},q.sliceBlob=function(H,J,K){return H.webkitSlice?H.webkitSlice(J,K):H.mozSlice?H.mozSlice(J,K):H.slice?H.slice(J,K):null};var F=x(0),G=function(H){if(H&&H.__esModule)return H;var J={};if(null!=H)for(var K in H)Object.prototype.hasOwnProperty.call(H,K)&&(J[K]=H[K]);return J.default=H,J}(F)},function(j,q,x){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.jsonObjectOrNull=function(F){var G;try{G=JSON.parse(F)}catch(H){return null}return D.isNonArrayObject(G)?G:null};var B=x(0),D=function(F){if(F&&F.__esModule)return F;var G={};if(null!=F)for(var H in F)Object.prototype.hasOwnProperty.call(F,H)&&(G[H]=F[H]);return G.default=F,G}(B)},function(j,q,x){"use strict";function z(F,G){if(!(F instanceof G))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.Observer=void 0;var B=x(0),D=function(F){if(F&&F.__esModule)return F;var G={};if(null!=F)for(var H in F)Object.prototype.hasOwnProperty.call(F,H)&&(G[H]=F[H]);return G.default=F,G}(B);q.Observer=function F(G,H,J){if(z(this,F),D.isFunction(G)||D.isDef(H)||D.isDef(J))this.next=G,this.error=H||null,this.complete=J||null;else{var K=G;this.next=K.next,this.error=K.error,this.complete=K.complete}}},function(j,q,x){"use strict";function z(ha){if(ha&&ha.__esModule)return ha;var ia={};if(null!=ha)for(var ja in ha)Object.prototype.hasOwnProperty.call(ha,ja)&&(ia[ja]=ha[ja]);return ia.default=ha,ia}function B(ha,ia){if(!(ha instanceof ia))throw new TypeError("Cannot call a class as a function")}function D(ha,ia){null!==ia&&0<ia.length&&(ha.Authorization="Firebase "+ia)}function F(ha){var ia="undefined"==typeof firebase?"AppManager":firebase.SDK_VERSION;ha["X-Firebase-Storage-Version"]="webjs/"+ia}Object.defineProperty(q,"__esModule",{value:!0}),q.RequestEndStatus=void 0;var H=function(){function ha(ia,ja){for(var la,ka=0;ka<ja.length;ka++)la=ja[ka],la.enumerable=la.enumerable||!1,la.configurable=!0,"value"in la&&(la.writable=!0),Object.defineProperty(ia,la.key,la)}return function(ia,ja,ka){return ja&&ha(ia.prototype,ja),ka&&ha(ia,ka),ia}}();q.addAuthHeader_=D,q.addVersionHeader_=F,q.makeRequest=function(ha,ia,ja){var ka=ca.makeQueryString(ha.urlParams),la=ha.url+ka,ma=X.clone(ha.headers);return D(ma,ia),F(ma),new fa(la,ha.method,ma,ha.body,ha.successCodes,ha.additionalRetryCodes,ha.handler,ha.errorHandler,ha.timeout,ha.progressCallback,ja)};var J=x(12),K=z(J),L=x(40),M=z(L),Q=x(1),V=z(Q),W=x(3),X=z(W),Y=x(2),Z=z(Y),$=x(0),aa=z($),ba=x(14),ca=z(ba),da=x(25),ea=z(da),fa=function(){function ha(ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa){B(this,ha),this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=ia,this.method_=ja,this.headers_=ka,this.body_=la,this.successCodes_=ma.slice(),this.additionalRetryCodes_=na.slice(),this.callback_=oa,this.errorCallback_=pa,this.progressCallback_=ra,this.timeout_=qa,this.pool_=sa;var ta=this;this.promise_=Z.make(function(ua,va){ta.resolve_=ua,ta.reject_=va,ta.start_()})}return H(ha,[{key:"start_",value:function(){function ja(la,ma){var na=ka.resolve_,oa=ka.reject_,pa=ma.xhr;if(ma.wasSuccessCode)try{var qa=ka.callback_(pa,pa.getResponseText());aa.isJustDef(qa)?na(qa):na()}catch(ua){oa(ua)}else if(null!==pa){var ra=V.unknown();ra.setServerResponseProp(pa.getResponseText()),oa(ka.errorCallback_?ka.errorCallback_(pa,ra):ra)}else if(ma.canceled){var sa=ka.appDelete_?V.appDeleted():V.canceled();oa(sa)}else{var ta=V.retryLimitExceeded();oa(ta)}}var ka=this;this.canceled_?ja(!1,new ga(!1,null,!0)):this.backoffId_=M.start(function(la,ma){function na(pa){var qa=pa.loaded,ra=pa.lengthComputable?pa.total:-1;null!==ka.progressCallback_&&ka.progressCallback_(qa,ra)}if(ma)return void la(!1,new ga(!1,null,!0));var oa=ka.pool_.createXhrIo();ka.pendingXhr_=oa,null!==ka.progressCallback_&&oa.addUploadProgressListener(na),oa.send(ka.url_,ka.method_,ka.body_,ka.headers_).then(function(pa){null!==ka.progressCallback_&&pa.removeUploadProgressListener(na),ka.pendingXhr_=null,pa=pa;var qa=pa.getErrorCode()===ea.ErrorCode.NO_ERROR,ra=pa.getStatus();if(!qa||ka.isRetryStatusCode_(ra)){var sa=pa.getErrorCode()===ea.ErrorCode.ABORT;return void la(!1,new ga(!1,null,sa))}var ta=K.contains(ka.successCodes_,ra);la(!0,new ga(ta,pa))})},ja,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(ia){this.canceled_=!0,this.appDelete_=ia||!1,null!==this.backoffId_&&M.stop(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()}},{key:"isRetryStatusCode_",value:function(ia){var ja=K.contains([408,429],ia),ka=K.contains(this.additionalRetryCodes_,ia);return 500<=ia&&600>ia||ja||ka}}]),ha}(),ga=q.RequestEndStatus=function ha(ia,ja,ka){B(this,ha),this.wasSuccessCode=ia,this.xhr=ja,this.canceled=!!ka}},function(j,q){"use strict";function z(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.RequestInfo=function B(D,F,G,H){z(this,B),this.url=D,this.method=F,this.handler=G,this.timeout=H,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}},function(j,q,x){"use strict";function z(K){if(K&&K.__esModule)return K;var L={};if(null!=K)for(var M in K)Object.prototype.hasOwnProperty.call(K,M)&&(L[M]=K[M]);return L.default=K,L}function B(K,L){if(!(K instanceof L))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.RequestMap=void 0;var D=function(){function K(L,M){for(var V,Q=0;Q<M.length;Q++)V=M[Q],V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(L,V.key,V)}return function(L,M,Q){return M&&K(L.prototype,M),Q&&K(L,Q),L}}(),F=x(3),G=z(F),H=x(6),J=z(H);q.RequestMap=function(){function K(){B(this,K),this.map_={},this.id_=J.minSafeInteger}return D(K,[{key:"addRequest",value:function(L){function M(){delete V.map_[Q]}var Q=this.id_;this.id_++,this.map_[Q]=L;var V=this;L.getPromise().then(M,M)}},{key:"clear",value:function(){G.forEach(this.map_,function(L,M){M&&M.cancel(!0)}),this.map_={}}}]),K}()},function(j,q,x){"use strict";function z(X){if(X&&X.__esModule)return X;var Y={};if(null!=X)for(var Z in X)Object.prototype.hasOwnProperty.call(X,Z)&&(Y[Z]=X[Z]);return Y.default=X,Y}function B(X,Y){if(!(X instanceof Y))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.NetworkXhrIo=void 0;var D=function(){function X(Y,Z){for(var aa,$=0;$<Z.length;$++)aa=Z[$],aa.enumerable=aa.enumerable||!1,aa.configurable=!0,"value"in aa&&(aa.writable=!0),Object.defineProperty(Y,aa.key,aa)}return function(Y,Z,$){return Z&&X(Y.prototype,Z),$&&X(Y,$),Y}}(),F=x(1),G=z(F),H=x(3),J=z(H),K=x(2),L=z(K),M=x(0),Q=z(M),V=x(25),W=z(V);q.NetworkXhrIo=function(){function X(){var Y=this;B(this,X),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=W.ErrorCode.NO_ERROR,this.sendPromise_=L.make(function(Z){Y.xhr_.addEventListener("abort",function(){Y.errorCode_=W.ErrorCode.ABORT,Z(Y)}),Y.xhr_.addEventListener("error",function(){Y.errorCode_=W.ErrorCode.NETWORK_ERROR,Z(Y)}),Y.xhr_.addEventListener("load",function(){Z(Y)})})}return D(X,[{key:"send",value:function(Y,Z,$,aa){var ba=this;if(this.sent_)throw G.internalError("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(Z,Y,!0),Q.isDef(aa)&&J.forEach(aa,function(ca,da){ba.xhr_.setRequestHeader(ca,da.toString())}),Q.isDef($)?this.xhr_.send($):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw G.internalError("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw G.internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Y){return-1}}},{key:"getResponseText",value:function(){if(!this.sent_)throw G.internalError("cannot .getResponseText() before sending");return this.xhr_.responseText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(Y){return this.xhr_.getResponseHeader(Y)}},{key:"addUploadProgressListener",value:function(Y){Q.isDef(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",Y)}},{key:"removeUploadProgressListener",value:function(Y){Q.isDef(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",Y)}}]),X}()},function(j,q,x){"use strict";function z(da){if(da&&da.__esModule)return da;var ea={};if(null!=da)for(var fa in da)Object.prototype.hasOwnProperty.call(da,fa)&&(ea[fa]=da[fa]);return ea.default=da,ea}function B(da,ea){if(!(da instanceof ea))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0}),q.UploadTask=void 0;var D=function(){function da(ea,fa){for(var ha,ga=0;ga<fa.length;ga++)ha=fa[ga],ha.enumerable=ha.enumerable||!1,ha.configurable=!0,"value"in ha&&(ha.writable=!0),Object.defineProperty(ea,ha.key,ha)}return function(ea,fa,ga){return fa&&da(ea.prototype,fa),ga&&da(ea,ga),ea}}(),F=x(15),G=z(F),H=x(44),J=x(50),K=x(11),L=z(K),M=x(12),Q=z(M),V=x(38),W=x(1),X=z(W),Y=x(2),Z=z(Y),$=x(24),aa=z($),ba=x(0),ca=z(ba);q.UploadTask=function(){function da(ea,fa,ga,ha,ia){var ja=this,ka=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;B(this,da),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=ea,this.authWrapper_=fa,this.location_=ga,this.blob_=ia,this.metadata_=ka,this.mappings_=ha,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=F.InternalTaskState.RUNNING,this.errorHandler_=function(la){ja.request_=null,ja.chunkMultiplier_=1,la.codeEquals(X.Code.CANCELED)?(ja.needToFetchStatus_=!0,ja.completeTransitions_()):(ja.error_=la,ja.transition_(F.InternalTaskState.ERROR))},this.metadataErrorHandler_=function(la){ja.request_=null,la.codeEquals(X.Code.CANCELED)?ja.completeTransitions_():(ja.error_=la,ja.transition_(F.InternalTaskState.ERROR))},this.promise_=Z.make(function(la,ma){ja.resolve_=la,ja.reject_=ma,ja.start_()}),this.promise_.then(null,function(){})}return D(da,[{key:"makeProgressCallback_",value:function(){var ea=this,fa=this.transferred_;return function(ga){ea.updateProgress_(fa+ga)}}},{key:"shouldDoResumable_",value:function(ea){return 262144<ea.size()}},{key:"start_",value:function(){this.state_===F.InternalTaskState.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())}},{key:"resolveToken_",value:function(ea){var fa=this;this.authWrapper_.getAuthToken().then(function(ga){switch(fa.state_){case F.InternalTaskState.RUNNING:ea(ga);break;case F.InternalTaskState.CANCELING:fa.transition_(F.InternalTaskState.CANCELED);break;case F.InternalTaskState.PAUSING:fa.transition_(F.InternalTaskState.PAUSED);}})}},{key:"createResumable_",value:function(){var ea=this;this.resolveToken_(function(fa){var ga=aa.createResumableUpload(ea.authWrapper_,ea.location_,ea.mappings_,ea.blob_,ea.metadata_),ha=ea.authWrapper_.makeRequest(ga,fa);ea.request_=ha,ha.getPromise().then(function(ia){ea.request_=null,ea.uploadUrl_=ia,ea.needToFetchStatus_=!1,ea.completeTransitions_()},ea.errorHandler_)})}},{key:"fetchStatus_",value:function(){var ea=this,fa=this.uploadUrl_;this.resolveToken_(function(ga){var ha=aa.getResumableUploadStatus(ea.authWrapper_,ea.location_,fa,ea.blob_),ia=ea.authWrapper_.makeRequest(ha,ga);ea.request_=ia,ia.getPromise().then(function(ja){ja=ja,ea.request_=null,ea.updateProgress_(ja.current),ea.needToFetchStatus_=!1,ja.finalized&&(ea.needToFetchMetadata_=!0),ea.completeTransitions_()},ea.errorHandler_)})}},{key:"continueUpload_",value:function(){var ea=this,fa=aa.resumableUploadChunkSize*this.chunkMultiplier_,ga=new aa.ResumableUploadStatus(this.transferred_,this.blob_.size()),ha=this.uploadUrl_;this.resolveToken_(function(ia){var ja;try{ja=aa.continueResumableUpload(ea.location_,ea.authWrapper_,ha,ea.blob_,fa,ea.mappings_,ga,ea.makeProgressCallback_())}catch(la){return ea.error_=la,void ea.transition_(F.InternalTaskState.ERROR)}var ka=ea.authWrapper_.makeRequest(ja,ia);ea.request_=ka,ka.getPromise().then(function(la){ea.increaseMultiplier_(),ea.request_=null,ea.updateProgress_(la.current),la.finalized?(ea.metadata_=la.metadata,ea.transition_(F.InternalTaskState.SUCCESS)):ea.completeTransitions_()},ea.errorHandler_)})}},{key:"increaseMultiplier_",value:function(){33554432>aa.resumableUploadChunkSize*this.chunkMultiplier_&&(this.chunkMultiplier_*=2)}},{key:"fetchMetadata_",value:function(){var ea=this;this.resolveToken_(function(fa){var ga=aa.getMetadata(ea.authWrapper_,ea.location_,ea.mappings_),ha=ea.authWrapper_.makeRequest(ga,fa);ea.request_=ha,ha.getPromise().then(function(ia){ea.request_=null,ea.metadata_=ia,ea.transition_(F.InternalTaskState.SUCCESS)},ea.metadataErrorHandler_)})}},{key:"oneShotUpload_",value:function(){var ea=this;this.resolveToken_(function(fa){var ga=aa.multipartUpload(ea.authWrapper_,ea.location_,ea.mappings_,ea.blob_,ea.metadata_),ha=ea.authWrapper_.makeRequest(ga,fa);ea.request_=ha,ha.getPromise().then(function(ia){ea.request_=null,ea.metadata_=ia,ea.updateProgress_(ea.blob_.size()),ea.transition_(F.InternalTaskState.SUCCESS)},ea.errorHandler_)})}},{key:"updateProgress_",value:function(ea){var fa=this.transferred_;this.transferred_=ea,this.transferred_!==fa&&this.notifyObservers_()}},{key:"transition_",value:function(ea){if(this.state_!==ea)switch(ea){case F.InternalTaskState.CANCELING:case F.InternalTaskState.PAUSING:this.state_=ea,null!==this.request_&&this.request_.cancel();break;case F.InternalTaskState.RUNNING:var fa=this.state_===F.InternalTaskState.PAUSED;this.state_=ea,fa&&(this.notifyObservers_(),this.start_());break;case F.InternalTaskState.PAUSED:this.state_=ea,this.notifyObservers_();break;case F.InternalTaskState.CANCELED:this.error_=X.canceled(),this.state_=ea,this.notifyObservers_();break;case F.InternalTaskState.ERROR:case F.InternalTaskState.SUCCESS:this.state_=ea,this.notifyObservers_();}}},{key:"completeTransitions_",value:function(){switch(this.state_){case F.InternalTaskState.PAUSING:this.transition_(F.InternalTaskState.PAUSED);break;case F.InternalTaskState.CANCELING:this.transition_(F.InternalTaskState.CANCELED);break;case F.InternalTaskState.RUNNING:this.start_();}}},{key:"on",value:function(ea){function fa(qa){try{return void la(qa)}catch(ra){}try{if(ma(qa),!(ca.isJustDef(qa.next)||ca.isJustDef(qa.error)||ca.isJustDef(qa.complete)))throw""}catch(ra){throw ka}}function ga(qa){return function(ra,sa){null!==qa&&L.validate("on",qa,arguments);var ta=new H.Observer(ra,sa,ja);return oa.addObserver_(ta),function(){oa.removeObserver_(ta)}}}var ha=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,ia=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,ja=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,ka="Expected a function or an Object with one of `next`, `error`, `complete` properties.",la=L.nullFunctionSpec(!0).validator,ma=L.looseObjectSpec(null,!0).validator,na=[L.stringSpec(function(){if(ea!==F.TaskEvent.STATE_CHANGED)throw"Expected one of the event types: ["+F.TaskEvent.STATE_CHANGED+"]."}),L.looseObjectSpec(fa,!0),L.nullFunctionSpec(!0),L.nullFunctionSpec(!0)];L.validate("on",na,arguments);var oa=this,pa=[L.looseObjectSpec(function(qa){if(null===qa)throw ka;fa(qa)}),L.nullFunctionSpec(!0),L.nullFunctionSpec(!0)];return ca.isJustDef(ha)||ca.isJustDef(ia)||ca.isJustDef(ja)?ga(null)(ha,ia,ja):ga(pa)}},{key:"then",value:function(ea,fa){return this.promise_.then(ea,fa)}},{key:"catch",value:function(ea){return this.then(null,ea)}},{key:"addObserver_",value:function(ea){this.observers_.push(ea),this.notifyObserver_(ea)}},{key:"removeObserver_",value:function(ea){Q.remove(this.observers_,ea)}},{key:"notifyObservers_",value:function(){var ea=this;this.finishPromise_(),Q.clone(this.observers_).forEach(function(fa){ea.notifyObserver_(fa)})}},{key:"finishPromise_",value:function(){if(null!==this.resolve_){var ea=!0;switch(G.taskStateFromInternalTaskState(this.state_)){case F.TaskState.SUCCESS:(0,V.async)(this.resolve_.bind(null,this.snapshot))();break;case F.TaskState.CANCELED:case F.TaskState.ERROR:var fa=this.reject_;(0,V.async)(fa.bind(null,this.error_))();break;default:ea=!1;}ea&&(this.resolve_=null,this.reject_=null)}}},{key:"notifyObserver_",value:function(ea){switch(G.taskStateFromInternalTaskState(this.state_)){case F.TaskState.RUNNING:case F.TaskState.PAUSED:null!==ea.next&&(0,V.async)(ea.next.bind(ea,this.snapshot))();break;case F.TaskState.SUCCESS:null!==ea.complete&&(0,V.async)(ea.complete.bind(ea))();break;case F.TaskState.CANCELED:case F.TaskState.ERROR:null!==ea.error&&(0,V.async)(ea.error.bind(ea,this.error_))();break;default:null!==ea.error&&(0,V.async)(ea.error.bind(ea,this.error_))();}}},{key:"resume",value:function(){L.validate("resume",[],arguments);var ea=this.state_===F.InternalTaskState.PAUSED||this.state_===F.InternalTaskState.PAUSING;return ea&&this.transition_(F.InternalTaskState.RUNNING),ea}},{key:"pause",value:function(){L.validate("pause",[],arguments);var ea=this.state_===F.InternalTaskState.RUNNING;return ea&&this.transition_(F.InternalTaskState.PAUSING),ea}},{key:"cancel",value:function(){L.validate("cancel",[],arguments);var ea=this.state_===F.InternalTaskState.RUNNING||this.state_===F.InternalTaskState.PAUSING;return ea&&this.transition_(F.InternalTaskState.CANCELING),ea}},{key:"snapshot",get:function(){var ea=G.taskStateFromInternalTaskState(this.state_);return new J.UploadTaskSnapshot(this.transferred_,this.blob_.size(),ea,this.metadata_,this,this.ref_)}}]),da}()},function(j,q){"use strict";function z(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(q,"__esModule",{value:!0});var B=function(){function D(F,G){for(var J,H=0;H<G.length;H++)J=G[H],J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(F,J.key,J)}return function(F,G,H){return G&&D(F.prototype,G),H&&D(F,H),F}}();q.UploadTaskSnapshot=function(){function D(F,G,H,J,K,L){z(this,D),this.bytesTransferred=F,this.totalBytes=G,this.state=H,this.metadata=J,this.task=K,this.ref=L}return B(D,[{key:"downloadURL",get:function(){if(null!==this.metadata){var F=this.metadata.downloadURLs;return null!=F&&null!=F[0]?F[0]:null}return null}}]),D}()}],[37])}catch(j){throw new Error("Cannot instantiate firebase-storage.js - be sure to load firebase-app.js first.")}